<div class="container">
  <h1 class="title">
    {{ 'PAGES.HOME.TITLE' | translate }}
  </h1>

  <div>
    <h4>Settings</h4>
    <div *ngIf="activeSerialPort">
      <p>Current Serial Port: <b>{{ activeSerialPort.settings.path }}</b></p>

      <button (click)="fanOperationModeTest(3)">Send Test Command (air20_set_fan_operation_mode to "3")</button>
    </div>
    
    <button (click)="listSerialPorts()">List Serial Ports</button>

    <form *ngIf="availablePorts && availablePorts.length > 0" [formGroup]="serialPortForm" (ngSubmit)="onSerialPortFormSubmit()">
      <div>
        <select (change)="changeSerialPortPath($event)" formControlName="path">
          <option value="">-- Select Serial Port Path --</option>
          <option *ngFor="let port of availablePorts" [ngValue]="port.path">
            {{ port.path }}
          </option>
        </select>
        <!-- error block -->
        <div *ngIf="isSubmitted && path?.invalid">
          <sup>*</sup>Please select port name
        </div>
        <button type="submit">
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
